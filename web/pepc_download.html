
<h2>PEPC: Installation</h2>


<h3>Download</h3>

<OL>
 -><A HREF="http://www.fz-juelich.de/zam/pepc/cgi-bin/getsoftware.cgi">
get PEPC</A>
</OL>

<h3>Prerequisites</h3>

PEPC is written in Fortran-90 and uses the Message Passing Interface (MPI) library for running on
large parallel machines.  On a Linux machine, this will usually be
included in the distribution in the form of the mpich or lam
packages.  If not, first get them from <a href="http://www-unix.mcs.anl.gov/mpi/mpich/">http://www-unix.mcs.anl.gov/mpi/mpich/</a>. 
Although PEPC can be run on a single-CPU machine, these
should be installed first or the program won't compile.
  


<h3>Installation</h3>



After downloading the distribution file pepc1.0.tar.gz unpack this
file with:<br>
<p>
<p><tt>>  tar xvfz pepc1.0.tar.gz </tt><p>

After unpacking the tarball, change to the installation
directory (e.g.: $HOME/pepc), which should be structured as follows: 

<p>
<TABLE WIDTH=560 BORDER=0 CELLPADDING=4 CELLSPACING=0 STYLE="page-break-inside: avoid">
<COL WIDTH=100>
<COL WIDTH=460>

  <TBODY>
<TR VALIGN=TOP>
  <TD WIDTH=100> <P><tt>lpepcsrc</tt>	</P></TD>
  <TD WIDTH=460> <P>kernel library routines for force and potential calculation (lpepc) </P></TD>
</TR>

<TR VALIGN=TOP>
  <TD WIDTH=100> <p> <tt> pepc-b  </tt>	</P></TD>
  <TD WIDTH=460> <P> source code for laser-plasma application </P></TD>
</TR>

<TR VALIGN=TOP>
  <TD WIDTH=100> <p> <tt> bin    </tt> </P></TD>
  <TD WIDTH=460> <P> scripts and binaries </P></TD>
</TR>


  <TD WIDTH=100> <p> <tt> tutorial    </tt> </P></TD>
  <TD WIDTH=460> <P>  example run directory for pepcb</P></TD>
</TR>

<TR VALIGN=TOP>
  <TD WIDTH=100> <p> <tt> tools   </tt> </P></TD>
  <TD WIDTH=460> <P> various postprocessing tools </P></TD>
</TR><TR VALIGN=TOP>

<TR VALIGN=TOP>
  <TD WIDTH=100> <p><tt> pepc-e      </tt>  </P></TD>
  <TD WIDTH=460> <P> source code for simple (sequential) MD demo program </P></TD>
</TR>

<TR VALIGN=TOP>
  <TD WIDTH=100> <p><tt> doc      </tt>  </P></TD>
  <TD WIDTH=460> <P> documentation </P></TD>
</TR>
  </TBODY>
</TABLE>

<h3> Compiling pepcb</h3> 

The source code (Fortran-90) resides in directories lpepcsrc and pepc-b.
The MPI libraries (eg: from mpich) are assumed to be installed locally.
To compile, 
<p>
	
<tt>>  cd pepc-b </tt>  (from pepc install directory)<p>

then in the generic <tt> makefile</tt> select the <tt> <arch>.mk</tt> module most appropriate to your
machine, e.g. set <tt> ARCH=linux</tt>. You may need to edit
some compiler and library flags in <tt> linux.mk </tt> according to your setup:  <p>


<TABLE WIDTH=560 BORDER=0 CELLPADDING=4 CELLSPACING=0 STYLE="page-break-inside: avoid">
<COL WIDTH=100>
<COL WIDTH=460>

  <TBODY>
<TR VALIGN=TOP>
  <TD WIDTH=100> <P><tt>F90</tt>	</P></TD>
  <TD WIDTH=460> <P>Fortran compiler (or equivalent MPI wrapper)</P></TD>
</TR>

<TR VALIGN=TOP>
  <TD WIDTH=100> <p> <tt> CC  </tt>	</P></TD>
  <TD WIDTH=460> <P> C compiler </P></TD>
</TR>

<TR VALIGN=TOP>
  <TD WIDTH=100> <p> <tt> CPP    </tt> </P></TD>
  <TD WIDTH=460> <P> C Preprocessor (used for .F90 sources) </P></TD>
</TR>


  <TD WIDTH=100> <p> <tt> QTUNE    </tt> </P></TD>
  <TD WIDTH=460> <P>  Fortran optimisation options</P></TD>
</TR>

<TR VALIGN=TOP>
  <TD WIDTH=100> <p> <tt> FFLAGS1   </tt> </P></TD>
  <TD WIDTH=460> <P> Additional Fortran compiler flags.  You must promote reals to 8-byte here or MPI will produce garbage. </P></TD>
</TR><TR VALIGN=TOP>

<TR VALIGN=TOP>
  <TD WIDTH=100> <p><tt> DB      </tt>  </P></TD>
  <TD WIDTH=460> <P> Debug options (turned off by default) </P></TD>
</TR>

<TR VALIGN=TOP>
  <TD WIDTH=100> <p><tt> LIBS_MPI    </tt>  </P></TD>
  <TD WIDTH=460> <P> Library flags for MPI - only necessary if your compiler doesn't provide wrappers </P></TD>
</TR>

<TR VALIGN=TOP>
  <TD WIDTH=100> <p><tt> PREPROC     </tt>  </P></TD>
  <TD WIDTH=460> <P> Preprocessor switches - turn on VISIT_NBODY if you have installed XNBODY visualisation package </P></TD>
</TR>
  </TBODY>
</TABLE>

<p>
When you're done with the makefiles, do: <p>

<tt>>  make clean </tt> <br>
<tt>>  make </tt> <p>

and you should be ready to start the <a href="http://www.fz-juelich.de/zam/pepc/tutorial/">tutorial</a>.

<p>



