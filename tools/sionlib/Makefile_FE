ARCH=_LINUX
#ARCH=_AIX
#ARCH=_BGL

SIONSRCDIR=../../src
include $(SIONSRCDIR)/Makefile_BGP_FE.defs

### Debug or Release ###
VERSION := DEBUG  # "debug" or "release"

# Kernels 
# ------

#MPI
#
RANLIB          = echo
ARCMD                   = ar
ARCHFLAGS               = cr

llib = $(SIONSRCDIR)/lib$(LIBNAME).a
llibser = $(SIONSRCDIR)/lib$(LIBSERNAME).a

#
SHELL           =     /bin/sh

.SUFFIXES: .f .c .f90 .F .c .h. .com .o

utils =  sionpepc

all: $(utils)

%.o: %.c
	$(CC)  -c $(CFLAGS)  $<
%.o: %.f
	$(F90) -c $(FFLAGS)  $<
		
###### UTILS #########
sionpepc.o: sionpepc.c 
	$(CC)  -c $(CFLAGS) -I$(SIONSRCDIR) $<

sionpepc: sionpepc.o $(llibser) 
	$(CCLOADER)  -o $@ $(CFLAGS) $< -L$(SIONSRCDIR) -l$(LIBSERNAME) 

###### INSTALL ######
install: all
	mkdir -p $(INSTDIR)/bin	
	@echo Installing Utilities
	cp -p $(utils) $(INSTDIR)/bin

######  Cleanup  ######
.PHONY: clean
clean:
	@echo Clean $(HOST) 
	-rm -f  $(utils) $(utils:%=%.o) 
